import{r as w,c as f,a as _,s as y,S as C}from"./right.20ab80c9.js";import{m as x}from"./logo.85541aea.js";import{l as D,t as k}from"./header.ddd66be9.js";import{r as M,L as S,F as B,B as P,U as L,D as E}from"./Down.4e4870ff.js";import{_ as F}from"./img9.f1f2f456.js";import{_ as R,r as u,h as T,o as m,c as p,a as v,b as e,F as N,d as H,t as A,e as b,w as I}from"./index.545d08ff.js";const U={name:"previewmodel",data(){return{ploading:!0,pathname:"1.glb",meuns:[]}},components:{right:w,loading:D,topheader:k},methods:{async previewmodelHandle(o){this.ploading=!0,this.pathname=o},async DownloadmodelHandle(o){this.pathname=o,this.downloadFile("/img/"+o)},generateRandomString(o=30){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let i="";for(let n=0;n<o;n++){const l=Math.floor(Math.random()*t.length);i+=t[l]}return i+".glb"},downloadFile(o){const t=document.createElement("a");t.href=o,t.download=this.generateRandomString(),document.body.appendChild(t),t.click(),document.body.removeChild(t)},initEarth(){window.viewer.scene.globe.tileLoadProgressEvent.addEventListener(o=>{o.numberOfTilesLoaded===o.numberOfTilesWaiting&&(this.ploading=!1)})},async loadModel(o){const{scene:t,camera:i,clock:n}=viewer,l=0,s=new Cesium.HeadingPitchRoll(0,0,0),r=Cesium.Cartesian3.fromDegrees(-123.0744619,44.0503706,l),c=Cesium.Transforms.headingPitchRollToFixedFrame(r,s);try{let a=await Cesium.Model.fromGltfAsync({url:"/img/"+o,modelMatrix:c});t.primitives.removeAll(),t.primitives.add(a),a.readyEvent.addEventListener(()=>{this.zoomToModel(a)})}catch(a){window.alert(`Error loading model: ${a}`)}},initmap(){let o=new Cesium.SkyBox({sources:{positiveX:M,negativeX:S,positiveY:B,negativeY:P,positiveZ:L,negativeZ:E}});const t=new Cesium.Viewer("PriviewMapContainer",{animation:!1,geocoder:!1,homeButton:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1,selectionIndicator:!1,navigationHelpButton:!1,skyBox:o,timeline:!1,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),useBrowserRecommendedResolution:!1});window.viewer=t,this.initEarth(),this.loadModel(this.pathname)},zoomToModel(o){const{scene:t,camera:i,clock:n}=viewer,l=t.screenSpaceCameraController;l.minimumZoomDistance=i.frustum.near,l._minimumRotateRate=1;let{radius:s}=o.boundingSphere;if(s<10){const a=10/s;Cesium.Matrix4.multiplyByUniformScale(o.modelMatrix,a,o.modelMatrix),s*=a}const r=Cesium.Math.toRadians(270),c=0;i.lookAt(o.boundingSphere.center,new Cesium.HeadingPitchRange(r,c,s*3))}},mounted(){x.main(),f.custom(),_.ratycustom(),y.slimScroll(),C.SearchFilter(),this.initmap()},computed:{getMeuns(){return window.UIConfig.model}},watch:{getMeuns:{handler(o){this.meuns=o},deep:!0,immediate:!0}}},V={style:{height:"100%"}},G={class:"page-wrapper"},O={class:"main-container main-containermax"},Z={class:"content-wrapper-scroll"},$={class:"content-wrapper"},z={class:"content-wrapper"},W={class:"row gutters"},X={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},Y={class:"card"},j={class:"card-body"},q={class:"row gutters"},J={class:"doc-block"},K={class:"doc-title"},Q={class:"custom-btn-group mt-2"},ee=["disabled","onClick"],te=["disabled","onClick"],oe={class:"modal fade",id:"previewmodel","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addNewDocumentLabel","aria-hidden":"true"},se={class:"modal-dialog modal-lg",role:"document"},ae={class:"modal-content"},le={class:"modal-body"},ie={style:{overflow:"hidden",height:"100%"}},de={class:"modal-footer"},ne=["onClick"];function re(o,t,i,n,l,s){const r=u("loading"),c=u("right"),a=u("topheader"),h=T("loading");return m(),p("div",V,[v(r),e("div",G,[v(c),e("div",O,[v(a),e("div",Z,[e("div",$,[e("div",z,[e("div",W,[e("div",X,[e("div",Y,[t[6]||(t[6]=e("div",{class:"card-header-lg"},[e("h4",null,"Documents"),e("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addNewDocument"}," Create Document "),e("div",{class:"modal fade",id:"addNewDocument","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"addNewDocumentLabel","aria-hidden":"true"},[e("div",{class:"modal-dialog modal-lg",role:"document"},[e("div",{class:"modal-content"},[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"addNewDocumentLabel"}," Add Document "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"})])]),e("div",{class:"modal-body"},[e("form",{class:"row gutters"},[e("div",{class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12"},[e("div",{class:"field-wrapper"},[e("input",{type:"text",class:"form-control"}),e("div",{class:"field-placeholder"}," Document Title ")])]),e("div",{class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12"},[e("div",{class:"field-wrapper"},[e("select",{class:"select-single js-states",title:"Select Product Category","data-live-search":"true"},[e("option",null,"Pdf"),e("option",null,"Excel"),e("option",null,"PPT")]),e("div",{class:"field-placeholder"}," Document Type ")])]),e("div",{class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12"},[e("div",{class:"field-wrapper"},[e("div",{class:"input-group"},[e("input",{type:"text",class:"form-control datepicker-opens-left"}),e("span",{class:"input-group-text"},[e("i",{class:"icon-calendar1"})])]),e("div",{class:"field-placeholder"}," Created On ")])]),e("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[e("div",{class:"field-wrapper m-0"},[e("textarea",{class:"form-control",rows:"3"}),e("div",{class:"field-placeholder"}," Description ")])])])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),e("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"}," Save changes ")])])])])],-1)),e("div",j,[e("div",q,[(m(!0),p(N,null,H(l.meuns,d=>(m(),p("div",{key:d.title,class:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},[e("div",J,[t[5]||(t[5]=e("div",{class:"doc-icon"},[e("img",{src:F,class:"img-fluid top-item-img",alt:"..."})],-1)),e("div",K,A(d.title),1),e("div",Q,[e("button",{disabled:d.Download,"data-bs-placement":"bottom","data-bs-toggle":"tooltip","data-bs-original-title":"\u4E0B\u8F7D\u6A21\u578B",onClick:g=>s.DownloadmodelHandle(d.path),class:"btn btn-info stripes-btn"},t[0]||(t[0]=[e("i",{class:"icon-download"},null,-1),b(" Download ")]),8,ee),e("button",{disabled:d.preview,"data-bs-placement":"bottom","data-bs-toggle":"modal","data-bs-target":"#previewmodel","data-bs-original-title":"\u9884\u89C8\u6A21\u578B",onClick:g=>s.previewmodelHandle(d.path),class:"btn btn-outline-primary"},t[1]||(t[1]=[e("i",{class:"icon-codepen"},null,-1),b(" preview ")]),8,te),e("div",oe,[e("div",se,[e("div",ae,[t[4]||(t[4]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"addNewDocumentLabel"}," \u6A21\u578B\u9884\u89C8 "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"})])],-1)),e("div",le,[I((m(),p("div",ie,t[2]||(t[2]=[e("div",{id:"PriviewMapContainer"},null,-1)]))),[[h,l.ploading]])]),e("div",de,[t[3]||(t[3]=e("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close ",-1)),e("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:g=>s.DownloadmodelHandle(d.path)}," Download ",8,ne)])])])])])])]))),128))])])])])])])]),t[7]||(t[7]=e("div",{class:"app-footer"},"\xA9 Uni Pro Admin 2021",-1))])])])])}const be=R(U,[["render",re]]);export{be as default};
