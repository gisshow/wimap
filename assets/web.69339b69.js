import{r as g,c as _,a as f,s as w,S as y}from"./right.c6fb65b8.js";import{m as M}from"./logo.85541aea.js";import{l as C,t as x}from"./header.999d8332.js";import{r as B,L as S,F as $,B as k,U as b,D as E}from"./Down.4e4870ff.js";import{_ as u,h as P,i as R,o as p,c as h,b as r,r as l,a as d}from"./index.2da8c50d.js";const A={name:"viewer",data(){return{loading:!1}},methods:{initEarth(){window.viewer.scene.globe.tileLoadProgressEvent.addEventListener(e=>{e.numberOfTilesLoaded===e.numberOfTilesWaiting&&(this.loading=!1)})},async loadModel(e="model.glb"){const{scene:o,camera:a,clock:m}=viewer,n=0,i=new Cesium.HeadingPitchRoll(0,0,0),s=Cesium.Cartesian3.fromDegrees(-123.0744619,44.0503706,n),c=Cesium.Transforms.headingPitchRollToFixedFrame(s,i);try{let t=await Cesium.Model.fromGltfAsync({url:"md/"+e,modelMatrix:c});o.primitives.removeAll(),o.primitives.add(t),t.readyEvent.addEventListener(()=>{this.zoomToModel(t)})}catch(t){window.alert(`Error loading model: ${t}`)}},zoomToModel(e){const{scene:o,camera:a,clock:m}=window.viewer,n=o.screenSpaceCameraController;n.minimumZoomDistance=a.frustum.near,n._minimumRotateRate=1;let{radius:i}=e.boundingSphere;if(i<10){const t=10/i;Cesium.Matrix4.multiplyByUniformScale(e.modelMatrix,t,e.modelMatrix),i*=t}const s=Cesium.Math.toRadians(270),c=0;a.lookAt(e.boundingSphere.center,new Cesium.HeadingPitchRange(s,c,i*3))}},mounted:function(){let e=new Cesium.SkyBox({sources:{positiveX:B,negativeX:S,positiveY:$,negativeY:k,positiveZ:b,negativeZ:E}});const o=new Cesium.Viewer("MapContainer",{animation:!1,geocoder:!1,homeButton:!1,fullscreenButton:!1,homeButton:!1,sceneModePicker:!1,selectionIndicator:!1,navigationHelpButton:!1,skyBox:e,timeline:!1,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),useBrowserRecommendedResolution:!1});window.viewer=o,this.initEarth(),this.loadModel()}},D={style:{overflow:"hidden",height:"100%"}};function F(e,o,a,m,n,i){const s=P("loading");return R((p(),h("div",D,o[0]||(o[0]=[r("div",{id:"MapContainer"},null,-1)]))),[[s,n.loading]])}const L=u(A,[["render",F]]),T={name:"blank",data(){return{meuns:[]}},components:{right:g,loading:C,topheader:x,viewer:L},mounted(){M.main(),_.custom(),f.ratycustom(),w.slimScroll(),y.SearchFilter()},computed:{getMeuns(){return window.UIConfig.meuns}},watch:{getMeuns:{handler(e){this.meuns=e},deep:!0,immediate:!0}}},I={style:{height:"100%"}},U={class:"page-wrapper"},G={class:"main-container main-containermax"},H={class:"content-wrapper-scroll"},V={class:"content-wrapper"};function Z(e,o,a,m,n,i){const s=l("loading"),c=l("right"),t=l("topheader"),v=l("viewer");return p(),h("div",I,[d(s),r("div",U,[d(c),r("div",G,[d(t),r("div",H,[r("div",V,[d(v)]),o[0]||(o[0]=r("div",{class:"app-footer"},"\xA9 Uni Pro Admin 2021",-1))])])])])}const Y=u(T,[["render",Z]]);export{Y as default};
